syntax = "proto3";
package protocol;

// Vec3
message Vector {
  float x = 1;
  float y = 2;
  float z = 3;
}

// Update the position of a user
message UpdatePlayerPosition {
  Vector position = 1;
  Vector direction = 2;
  Vector scale = 3;
  string user = 4;
}

// definition of a chat message
message ChatMessage {
  string content = 1;
  string user = 2;
}

message CreateRoom {
  string id = 1;
  string name = 2;
  // Id of the creator of this room
  string creator = 3;
  int32 nbrPlayers = 4;
  // Can we still invite players in this room ?
  bool invite = 5;
  // A game is stared on this room ?
  bool actived = 6; 
}

// message that can be exchanged between the client and the server
// TYPE = "chat_message" if ChatMessage (for example)
message Message {
  string type = 1; // easier for fetching datas
  oneof msg {
    ChatMessage chat_message = 2;
    UpdatePlayerPosition update_player_position = 3;
    CreateRoom create_room = 4;
  }
}
